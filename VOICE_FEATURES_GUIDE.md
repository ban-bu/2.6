# 语音通话和实时转录功能使用指南

## 🎙️ 新增功能概览

### 群语音通话功能
- **多人实时语音通话**：支持房间内所有成员同时进行语音通话
- **WebRTC技术**：采用点对点连接，低延迟高质量音频传输
- **智能控制**：静音/取消静音、音量调节、扬声器控制
- **状态指示**：实时显示通话状态和参与者信息

### 实时语音转录功能
- **科大讯飞语音识别**：采用科大讯飞实时语音转录API
- **实时转录显示**：语音内容实时转换为文字并显示
- **多用户支持**：区分不同说话者的转录内容
- **转录记录保存**：支持导出完整的语音转录记录

## 🚀 使用方法

### 开始语音通话

1. **启动通话**
   - 点击聊天区域右上角的 🎉 **"语音通话"** 按钮
   - 系统会请求麦克风权限，请点击"允许"
   - 通话成功建立后，按钮会变为红色的"结束通话"

2. **通话控制**
   - **静音/取消静音**：点击🎤麦克风图标
   - **音量调节**：拖动音量滑块控制接收音量
   - **扬声器控制**：点击🔊扬声器图标
   - **转录开关**：点击📝字幕图标开启/关闭实时转录

### 实时语音转录

1. **开启转录**
   - 在语音通话进行中，点击📝转录按钮
   - 转录面板会自动显示在聊天区域下方
   - 系统开始实时识别并转换语音为文字

2. **转录功能**
   - **实时显示**：说话内容实时转换为文字
   - **说话者识别**：不同颜色区分不同的说话者
   - **时间戳**：每条转录都带有精确的时间记录
   - **自动保存**：转录内容自动同步到所有参与者

3. **转录管理**
   - **清空转录**：点击"清空转录"按钮清除当前记录
   - **导出转录**：点击"导出转录"下载完整的转录文件
   - **隐藏面板**：点击右上角❌关闭转录显示面板

## 🔧 技术说明

### 系统要求
- **浏览器**：Chrome 88+、Firefox 85+、Safari 14+、Edge 88+
- **设备**：支持麦克风的设备（电脑、手机、平板）
- **网络**：稳定的互联网连接（建议带宽 ≥ 256 kbps）
- **权限**：麦克风访问权限

### 语音通话技术
- **WebRTC协议**：实现点对点实时音频传输
- **STUN服务器**：使用Google STUN服务器进行NAT穿透
- **音频处理**：回音消除、噪声抑制、自动增益控制
- **自适应码率**：根据网络情况自动调整音频质量

### 语音转录技术
- **科大讯飞API**：采用科大讯飞实时语音转录服务
- **音频格式**：16kHz采样率，16位深度
- **识别语言**：中文（可扩展其他语言）
- **实时性**：平均延迟 < 500ms

## 🎨 界面说明

### 语音控制区域
```
[语音通话] [🎤] [🔊] [📝] [音量滑块]
    ↓       ↓    ↓    ↓       ↓
  开始通话   静音  扬声器 转录  音量控制
```

### 转录显示面板
```
┌─────────────────────────────────┐
│ 📝 实时语音转录              ❌ │
├─────────────────────────────────┤
│ [张三] 10:30:25                 │
│ 今天我们讨论一下项目进度...      │
│                                 │
│ [李四] 10:30:45                 │
│ 我觉得我们应该加快开发速度...    │
├─────────────────────────────────┤
│ [清空转录] [导出转录]           │
└─────────────────────────────────┘
```

## 🛠️ 故障排除

### 常见问题

1. **无法开始语音通话**
   - 检查浏览器是否支持WebRTC
   - 确认已授予麦克风权限
   - 检查网络连接状态
   - 尝试刷新页面

2. **听不到其他人声音**
   - 检查音量设置和扬声器状态
   - 确认对方未处于静音状态
   - 检查设备音频输出设置

3. **转录不准确或无反应**
   - 确认网络连接稳定
   - 检查麦克风音量和质量
   - 尝试清晰缓慢地说话
   - 检查环境噪音干扰

4. **性能问题**
   - 关闭不必要的浏览器标签页
   - 检查设备资源使用情况
   - 降低同时通话人数
   - 使用有线网络连接

### 权限设置

1. **Chrome浏览器**
   - 地址栏左侧点击🔒图标
   - 选择"网站设置"
   - 将麦克风设置为"允许"

2. **Firefox浏览器**
   - 地址栏左侧点击盾牌图标
   - 选择"权限"
   - 启用麦克风权限

## 📊 功能对比

| 功能特性 | 传统文字聊天 | 语音通话 | 语音转录 |
|----------|-------------|----------|----------|
| 实时性 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 表达效率 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 记录保存 | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ |
| 多任务友好 | ⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ |
| 网络要求 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |

## 🔮 未来规划

### 即将推出的功能
- [ ] 屏幕共享支持
- [ ] 视频通话功能
- [ ] 多语言转录支持
- [ ] 转录内容智能摘要
- [ ] 语音情感分析
- [ ] 会议录音功能

### 性能优化
- [ ] 音频质量自适应调节
- [ ] 更好的网络容错机制
- [ ] 移动端体验优化
- [ ] 大规模会议支持（50+人）

## 💡 使用建议

### 最佳实践
1. **环境准备**：选择安静的环境，使用质量良好的耳机或音响
2. **网络优化**：使用稳定的网络连接，避免网络拥堵时段
3. **说话技巧**：为了获得更好的转录效果，建议语速适中、发音清晰
4. **设备选择**：使用质量较好的麦克风设备，避免回音和噪音

### 团队协作建议
1. **会议主持**：指定会议主持人控制转录开关
2. **发言秩序**：避免同时多人发言，保证转录准确性
3. **重要内容**：重要决策和要点可通过文字聊天进行确认
4. **记录管理**：定期导出和保存会议转录记录

---

**Vibe Meeting v2.1** - 现在支持完整的语音通话和实时转录功能！🎉

如有任何问题或建议，请联系技术支持团队。
